/* -----------------------------------
  各ページで使う共通のスクリプト（</body>直前）
  要jQueryのものが多い
 ----------------------------------- *//*
・目次が自動で生成される
・このページの最上部に戻るリンクは、.pagetop a
・1つのa子要素を含む親要素に .clickable クラスを付加すると、親要素クリックでリンクできる
・テーブルの奇数行に oddクラスが付加される
・フォーカスしているフォームのラベルには labelfocusクラスが付加される
*///★PC・スマートフォンからのアクセスでCSS切替え（メディアクエリは別にする）
//参考：http://blog.webcreativepark.net/2012/04/19-120731.html
/*
・PCでアクセスした場合、PC用のCSSを読み込む
・スマートフォンでアクセスした場合、スマートフォン用のCSSを読み込む
・スマートフォンでのアクセス時、「PCサイト表示」ボタンを表示。
　それがクリックされると、スマートフォンでPC用のCSSを適用させる。
・PC用のサイトをスマートフォンで見た場合のみ、「スマートフォン表示」ボタンを表示。
　これがクリックされるとスマートフォン用のCSSを適用させる。
*///Documentオブジェクトをキャッシュさせて高速化
var _doc=document,generateTableOfContents=function(e){e=e||$(".article_body > section > h2");if(e.size()>0){var t=$("<ul />");e.each(function(e){var n=$(this);n.attr("id","chapter_"+e);t.append('<li><a href="#chapter_'+e+'">'+n.html()+"</a></li>")});$("#pages_of_reference").size()>0&&t.append('<li><a href="#pages_of_reference">参考させていただいたサイト様</a></li>');$("#table_of_contents").append("<h1>このページの目次 <small>クリックで該当箇所にスクロール</small></h1>").append(t);return!1}$("#table_of_contents").css("display","none")};$(function(){generateTableOfContents()});$(function(){$("a[href^=#],area[href^=#]").click(function(){var e=400,t=$(this).attr("href"),n=$(t==="#"||t===""?"html":t),r=n.offset().top,i=navigator.userAgent,s=/Safari/.test(i);$(s?"body":"html").animate({scrollTop:r},e,"swing");return!1})});$(function(){function e(){return(!_doc.all||window.opera)&&_doc.getElementById?window.pageYOffset:_doc.getElementById&&_doc.compatMode==="CSS1Compat"?_doc.documentElement.scrollTop:_doc.body.scrollTop}var t;(!_doc.all||window.opera)&&_doc.getElementById?t=window.innerHeight:t=_doc.getElementsByTagName("html")[0].clientHeight;var n=Math.max.apply(null,[_doc.body.clientHeight,_doc.body.scrollHeight,_doc.documentElement.scrollHeight,_doc.documentElement.clientHeight]),r=n-t,i=700,s=0;$("#page-scroll-top").click(function(){s=0;$($.browser.safari?"body":"html").animate({scrollTop:s},i,"swing");return!1});$("#page-scroll-up").click(function(){s=e()-t;s<0&&(s=0);$($.browser.safari?"body":"html").animate({scrollTop:s},i,"swing");return!1});$("#page-scroll-down").click(function(){s=e()+t-30;s>r&&(s=r);$($.browser.safari?"body":"html").animate({scrollTop:s},i,"swing");return!1});$("#page-scroll-bottom").click(function(){s=r;$($.browser.safari?"body":"html").animate({scrollTop:r},i,"swing");return!1})});$(function(){$(".pagetop a").click(function(){$("html,body").animate({scrollTop:$($(this).attr("href")).offset().top},"slow","swing");return!1})});$(function(){$(".clickable").click(function(){window.location=$(this).find("a").attr("href");return!1})});$(function(){$("tr:odd").addClass("odd")});$(function(){$(".focus").focus(function(){this.value==="キーワードを入力"&&$(this).val("").css("color","#000")});$(".focus").blur(function(){this.value===""&&$(this).val("キーワードを入力").css("color","#999")})});$(function(){$("textarea").keyup(function(){var e=$(this).val().length;$("#countUp").text(e);e===0&&$("#countUp").text("0");e>=10?$("#countUp").css("color","red"):$("#countUp").css("color","#333")})});window.onload=function(){if($("body").width()>=481){$(".col2 .col").tile(2);$(".col3 .col").tile(3);$(".col4 .col").tile(4);$(".col5 .col").tile(5);$(".col6 .col").tile(6)}else{$(".col4 .col").tile(2);$(".col5 .col").tile(2);$(".col6 .col").tile(2)}};var fixCenterMiddle=function(e,t){e instanceof jQuery||(e=$(e));var n=window.innerHeight?window.innerHeight:$(window).height(),r=Math.floor((n-e.outerHeight())/2),i=Math.floor(($(window).width()-e.outerWidth())/2);e.css({top:r,left:i});if(typeof window.addEventListener=="undefined"&&typeof document.documentElement.style.maxHeight=="undefined"){$(t).wrapAll('<div id="cover" />');$("html, html body").css({height:"100%","overflow-y":"hidden","overflow-x":"auto"});$("html #cover").css({overflow:"auto",position:"relative",width:"100%",height:"100%"});e.css({position:"absolute"})}};$(function(){$("#menu_modal_window_button").click(function(e){var t=$("#menu_modal_window_dialog"),n=$(document).height(),r=$(window).width();$("#menu_modal_window_mask").css({width:r,height:n}).fadeIn(1e3).fadeTo("slow",.8);fixCenterMiddle(t,"#container");t.fadeIn(2e3);if(!e.target)return!1;e.preventDefault();var i=navigator.userAgent;i.search(/Android/)!==-1&&typeof iScroll!="undefined"&&$.each(t,function(){new iScroll(this,{bounce:!1,fixedScrollbar:!0,lockDirection:!0})})});$("#menu_modal_window_close").click(function(e){$("#menu_modal_window_mask, #menu_modal_window_dialog").hide();if(!e.target)return!1;e.preventDefault()});$("#menu_modal_window_mask").click(function(){$(this).hide();$("#menu_modal_window_dialog").hide()});$(window).resize(function(){var e=$("#menu_modal_window_dialog"),t=$(document).height(),n=$(window).width(),r=parseInt(e.css("padding"),10);$("#menu_modal_window_mask").css({width:n,height:t});var i=Math.floor(($(window).height()-e.height())/2-r),s=Math.floor(($(window).width()-e.width())/2-r);e.css({top:i,left:s})})});$(function(){$("a[name=modal]").click(function(e){var t=$(this).attr("href"),n=$(t),r=$(document).height(),i=$(window).width();$("#modal_window_mask").css({width:i,height:r}).fadeIn(1e3).fadeTo("slow",.8);fixCenterMiddle(n,"#container");n.fadeIn(2e3);if(!e.target)return!1;e.preventDefault()});$(".modal_window_window .modal_window_close").click(function(e){$("#modal_window_mask, .modal_window_window").hide();if(!e.target)return!1;e.preventDefault()});$("#modal_window_mask").click(function(){$(this).hide();$(".modal_window_window").hide()});$(window).resize(function(){var e=$("#modal_window_boxes .modal_window_window"),t=$(document).height(),n=$(window).width(),r=parseInt(e.css("padding"),10);$("#modal_window_mask").css({width:n,height:t});var i=Math.floor(($(window).height()-e.height())/2-r),s=Math.floor(($(window).width()-e.width())/2-r);e.css({top:i,left:s})});$(document).keyup(function(e){e.keyCode===27&&$("#modal_window_mask, .modal_window_window").hide()})});$(function(){var e=0;$("#menu_button").click(function(){if(e===0){$("#sidebar").show("fast");e=1}else{$("#sidebar").hide("fast");e=0}})});$(function(){$(".printer").click(function(){$("body").addClass("print");window.print();setTimeout(function(){$("body").removeClass("print")},1e3);return!1})});