var _doc=_doc,generateTableOfContents=function(e){e=e||$(".article_body > section > h2");if(e.size()>0){var t=$("<ul />");e.each(function(e){var n=$(this);n.attr("id","chapter_"+e);t.append('<li><a href="#chapter_'+e+'">'+n.html()+"</a></li>")});$("#pages_of_reference").size()>0&&t.append('<li><a href="#pages_of_reference">参考させていただいたサイト様</a></li>');$("#table_of_contents").append("<h1>このページの目次 <small>クリックで該当箇所に移動</small></h1>").append(t);return!1}$("#table_of_contents").css("display","none")};$(function(){generateTableOfContents()});$(function(){$("a[href^=#],area[href^=#]").click(function(){var e=400,t=$(this).attr("href"),n=$(t==="#"||t===""?"html":t),r=n.offset().top,i=navigator.userAgent,s=/Safari/.test(i);$(s?"body":"html").animate({scrollTop:r},e,"swing");return!1})});$(function(){$(".pagetop a").click(function(){$("html,body").animate({scrollTop:$($(this).attr("href")).offset().top},"slow","swing");return!1})});$(function(){$(".clickable").click(function(){window.location=$(this).find("a").attr("href");return!1})});$(function(){$("tr:odd").addClass("odd")});$(function(){$(".focus").focus(function(){this.value==="キーワードを入力"&&$(this).val("").css("color","#000")});$(".focus").blur(function(){this.value===""&&$(this).val("キーワードを入力").css("color","#999")})});$(function(){$("textarea").keyup(function(){var e=$(this).val().length;$("#countUp").text(e);e===0&&$("#countUp").text("0");e>=10?$("#countUp").css("color","red"):$("#countUp").css("color","#333")})});var fixCenterMiddle=function(e,t){e instanceof jQuery||(e=$(e));var n=window.innerHeight?window.innerHeight:$(window).height(),r=Math.floor((n-e.outerHeight())/2),i=Math.floor(($(window).width()-e.outerWidth())/2);e.css({top:r,left:i});if(typeof window.addEventListener=="undefined"&&typeof _doc._docElement.style.maxHeight=="undefined"){$(t).wrapAll('<div id="cover" />');$("html, html body").css({height:"100%","overflow-y":"hidden","overflow-x":"auto"});$("html #cover").css({overflow:"auto",position:"relative",width:"100%",height:"100%"});e.css({position:"absolute"})}};$(function(){$("#menu_modal_window_button").click(function(e){var t=$("#menu_modal_window_dialog"),n=$(_doc).height(),r=$(window).width();$("#menu_modal_window_mask").css({width:r,height:n}).fadeIn(1e3).fadeTo("slow",.8);fixCenterMiddle(t,"#container");t.fadeIn(2e3);if(!e.target)return!1;e.preventDefault();var i=navigator.userAgent;i.search(/Android/)!==-1&&typeof iScroll!="undefined"&&$.each(t,function(){new iScroll(this,{bounce:!1,fixedScrollbar:!0,lockDirection:!0})})});$("#menu_modal_window_close").click(function(e){$("#menu_modal_window_mask, #menu_modal_window_dialog").hide();if(!e.target)return!1;e.preventDefault()});$("#menu_modal_window_mask").click(function(){$(this).hide();$("#menu_modal_window_dialog").hide()});$(window).resize(function(){var e=$("#menu_modal_window_dialog"),t=$(_doc).height(),n=$(window).width(),r=parseInt(e.css("padding"),10);$("#menu_modal_window_mask").css({width:n,height:t});var i=Math.floor(($(window).height()-e.height())/2-r),s=Math.floor(($(window).width()-e.width())/2-r);e.css({top:i,left:s})});$(_doc).keyup(function(e){e.keyCode===27&&$("#menu_modal_window_dialog").hide()})});$(function(){$("a[name=modal]").click(function(e){var t=$(this).attr("href"),n=$(t),r=$(_doc).height(),i=$(window).width();$("#modal_window_mask").css({width:i,height:r}).fadeIn(1e3).fadeTo("slow",.8);fixCenterMiddle(n,"#container");n.fadeIn(2e3);if(!e.target)return!1;e.preventDefault()});$(".modal_window_window .modal_window_close").click(function(e){$("#modal_window_mask, .modal_window_window").hide();if(!e.target)return!1;e.preventDefault()});$("#modal_window_mask").click(function(){$(this).hide();$(".modal_window_window").hide()});$(window).resize(function(){var e=$("#modal_window_boxes .modal_window_window"),t=$(_doc).height(),n=$(window).width(),r=parseInt(e.css("padding"),10);$("#modal_window_mask").css({width:n,height:t});var i=Math.floor(($(window).height()-e.height())/2-r),s=Math.floor(($(window).width()-e.width())/2-r);e.css({top:i,left:s})});$(_doc).keyup(function(e){e.keyCode===27&&$("#modal_window_mask, .modal_window_window").hide()})});var equalheight=function(e){var t=0,n=0,r=[],i,s=0;$(e).each(function(){i=$(this);$(i).height("auto");s=i.position().top;var e;if(n!==s){for(e=0;e<r.length;e++)r[e].height(t);r.length=0;n=s;t=i.height();r.push(i)}else{r.push(i);t=t<i.height()?i.height():t}for(e=0;e<r.length;e++)r[e].height(t)})};$(window).load(function(){equalheight(".grid_block .cell")});var timer_equalheight=!1;$(window).resize(function(){timer_equalheight!==!1&&clearTimeout(timer_equalheight);timer_equalheight=setTimeout(function(){equalheight(".grid_block .cell")},200)});$(function(){var e=0;$("#menu_button").click(function(){if(e===0){$("#sidebar").show("fast");e=1}else{$("#sidebar").hide("fast");e=0}})});$(function(){var e=6e3,t=3e3,n=$("#change_img_area"),r=n.children("img");r.each(function(){$(this).css({top:"35px",left:Math.floor((n.width()-$(this).outerWidth())/2)})});n.find("img:first-child").css("display","block");setInterval(function(){n.find("img:first-child").fadeOut(t).next().fadeIn(t).end().appendTo(n)},e)});$(function(){$(".printer").click(function(){$("body").addClass("print");window.print();setTimeout(function(){$("body").removeClass("print")},1e3);return!1})});